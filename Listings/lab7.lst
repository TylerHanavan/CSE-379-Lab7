


ARM Macro Assembler    Page 1 


    1 00000000                 PRESERVE8
    2 00000000                 AREA             interrupts, CODE, READWRITE
    3 00000000         
    4 00000000                 EXPORT           lab7
    5 00000000         
    6 00000000                 EXPORT           FIQ_Handler
    7 00000000         
    8 00000000                 EXTERN           uart_init
    9 00000000                 EXTERN           pin_connect_block_setup_for_uar
t0
   10 00000000                 EXTERN           setup_pins
   11 00000000                 EXTERN           validate_input
   12 00000000                 EXTERN           change_display
   13 00000000                 EXTERN           clear_display
   14 00000000                 EXTERN           toggle_seven_seg
   15 00000000                 EXTERN           read_character
   16 00000000                 EXTERN           output_character
   17 00000000                 EXTERN           output_string
   18 00000000                 EXTERN           new_line
   19 00000000         
   20 00000000                 EXTERN           change_display_digit
   21 00000000                 EXTERN           get_digit
   22 00000000         
   23 00000000                 EXTERN           from_ascii
   24 00000000         
   25 00000000                 EXTERN           store_input
   26 00000000                 EXTERN           get_input
   27 00000000                 EXTERN           clear_input
   28 00000000         
   29 00000000                 EXTERN           is_enemy_alive
   30 00000000                 EXTERN           do_tick
   31 00000000                 EXTERN           handle_input
   32 00000000         
   33 00000000                 EXTERN           get_score_level
   34 00000000                 EXTERN           score_level_
   35 00000000         
   36 00000000                 EXTERN           number_to_memory
   37 00000000         
   38 00000000                 EXTERN           clear_input
   39 00000000                 EXTERN           get_input
   40 00000000         
   41 00000000 2F 2F 2F 
              2F 00    enemies =                "////",0
   42 00000005 2F 2F 2F 
              2F 00    shields_alive
                               =                "////",0
   43 0000000A 2F 2F 2F 
              2F 00    shields_type
                               =                "////",0
   44 0000000F 57 65 6C 
              63 6F 6D 
              65 20 74 
              6F 20 53 
              70 61 63 
              65 20 49 
              6E 76 61 
              64 65 72 
              73 21 20 
              54 68 65 



ARM Macro Assembler    Page 2 


              20 70 75 
              72 70 6F 
              73 65 20 
              6F 66 20 
              74 68 65 
              20 67 61 
              6D 65 20 
              69 73 20 
              74 6F 20 
              72 61 63 
              6B 20 75 
              70 20 61 
              73 20 6D 
              61 6E 79 
              20 70 6F 
              69 6E 74 
              73 20 61 
              73 20 70 
              6F 73 73 
              62 6C 65 
              20 77 69 
              74 68 69 
              6E 20 32 
              20 6D 69 
              6E 75 74 
              65 73 2E 
              20 45 61 
              63 68 20 
              6C 65 76 
              65 6C 20 
              77 69 6C 
              6C 20 63 
              6F 6E 74 
              61 69 6E 
              20 33 35 
              20 65 6E 
              65 6D 69 
              65 73 20 
              61 6E 64 
              20 33 20 
              72 61 6E 
              64 6F 6D 
              20 6D 6F 
              74 68 65 
              72 73 68 
              69 70 73 
              2E 20 54 
              68 65 20 
              66 69 72 
              73 74 20 
              74 77 6F 
              20 72 6F 
              77 73 20 
              6F 66 20 
              65 6E 65 
              6D 69 65 
              73 20 28 
              27 57 27 
              29 20 77 



ARM Macro Assembler    Page 3 


              69 6C 6C 
              20 63 6F 
              75 6E 74 
              20 61 73 
              20 31 30 
              20 70 6F 
              69 6E 74 
              73 2E 20 
              54 68 65 
              20 6E 65 
              78 74 20 
              74 77 6F 
              20 72 6F 
              77 73 20 
              6F 66 20 
              65 6E 65 
              6D 69 65 
              73 20 28 
              27 4D 27 
              29 20 77 
              69 6C 6C 
              20 63 6F 
              75 6E 74 
              20 61 73 
              20 32 30 
              20 70 6F 
              69 6E 74 
              73 2E 20 
              54 68 65 
              20 66 6F 
              6C 6C 6F 
              77 69 6E 
              67 20 72 
              6F 77 20 
              28 27 4F 
              27 29 20 
              77 69 6C 
              6C 20 63 
              6F 75 6E 
              74 20 61 
              73 20 34 
              30 20 70 
              6F 69 6E 
              74 73 2E 
              20 54 68 
              65 20 6C 
              61 73 74 
              20 72 6F 
              77 20 77 
              69 6C 6C 
              20 63 6F 
              6E 74 61 
              69 6E 20 
              61 20 6D 
              6F 74 68 
              65 72 73 
              68 69 70 
              20 6D 6F 
              76 69 6E 



ARM Macro Assembler    Page 4 


              67 20 61 
              74 20 61 
              20 64 69 
              66 66 65 
              72 65 6E 
              74 20 73 
              70 65 65 
              64 20 69 
              6E 20 72 
              61 6E 64 
              6F 6D 20 
              64 69 72 
              65 63 74 
              69 6F 6E 
              73 20 75 
              6E 6C 69 
              6B 65 20 
              74 68 65 
              20 73 70 
              61 63 65 
              20 69 6E 
              76 61 64 
              65 72 73 
              2E 20 45 
              61 63 68 
              20 6D 6F 
              74 68 65 
              72 73 68 
              69 70 20 
              77 69 6C 
              6C 20 76 
              61 72 79 
              20 69 6E 
              20 70 6F 
              69 6E 74 
              73 20 77 
              69 74 68 
              69 6E 20 
              74 68 65 
              20 72 61 
              6E 67 65 
              20 31 30 
              30 20 74 
              6F 20 33 
              30 30 2E 
              20 49 74 
              20 6F 6E 
              6C 79 20 
              74 61 6B 
              65 73 20 
              6F 6E 65 
              20 73 68 
              6F 74 20 
              74 6F 20 
              6B 69 6C 
              6C 20 61 
              6E 20 65 
              6E 65 6D 
              79 2C 20 



ARM Macro Assembler    Page 5 


              62 75 74 
              20 74 68 
              65 79 20 
              63 61 6E 
              20 73 68 
              6F 6F 74 
              20 62 61 
              63 6B 20 
              61 6E 64 
              20 6B 69 
              6C 6C 20 
              79 6F 75 
              20 69 6E 
              20 6F 6E 
              65 20 73 
              68 6F 74 
              2E 20 55 
              73 65 20 
              79 6F 75 
              72 20 73 
              68 69 65 
              6C 64 73 
              20 74 6F 
              20 70 72 
              6F 74 65 
              63 74 20 
              79 6F 75 
              2E 20 50 
              72 65 73 
              73 20 27 
              61 27 20 
              74 6F 20 
              6D 6F 76 
              65 20 79 
              6F 75 72 
              20 73 70 
              61 63 65 
              73 68 69 
              70 20 6C 
              65 66 74 
              20 61 6E 
              64 20 27 
              64 27 20 
              74 6F 20 
              6D 6F 76 
              65 20 79 
              6F 75 72 
              20 73 70 
              61 63 65 
              73 68 69 
              70 20 72 
              69 67 68 
              74 2E 20 
              50 72 65 
              73 73 20 
              27 77 27 
              20 6F 72 
              20 74 68 
              65 20 73 



ARM Macro Assembler    Page 6 


              70 61 63 
              65 20 62 
              75 74 74 
              6F 6E 20 
              74 6F 20 
              66 69 72 
              65 20 61 
              74 20 79 
              6F 75 72 
              20 65 6E 
              65 6D 69 
              65 73 2E 
              20 42 65 
              20 63 61 
              72 65 66 
              75 6C 20 
              6E 6F 74 
              20 74 6F 
              20 73 68 
              6F 6F 74 
              20 61 74 
              20 79 6F 
              75 72 20 
              73 68 69 
              65 6C 64 
              73 20 6F 
              72 20 65 
              6C 73 65 
              20 74 68 
              65 79 20 
              77 69 6C 
              6C 20 64 
              65 70 6C 
              65 74 65 
              2E 20 4F 
              6E 63 65 
              20 61 6C 
              6C 20 33 
              35 20 73 
              70 61 63 
              65 20 69 
              6E 76 61 
              64 65 72 
              73 20 61 
              72 65 20 
              64 65 73 
              74 72 6F 
              79 65 64 
              2C 20 74 
              68 65 20 
              6C 65 76 
              65 6C 20 
              70 72 6F 
              67 72 65 
              73 73 65 
              73 20 61 
              73 20 77 
              65 6C 6C 
              20 61 73 



ARM Macro Assembler    Page 7 


              20 74 68 
              65 20 73 
              70 65 65 
              64 20 6F 
              66 20 74 
              68 65 20 
              73 70 61 
              63 65 20 
              69 6E 76 
              61 64 65 
              72 73 2E 
              20 59 6F 
              75 20 68 
              61 76 65 
              20 34 20 
              6C 69 76 
              65 73 2C 
              20 65 76 
              65 72 79 
              20 6C 69 
              66 65 20 
              79 6F 75 
              20 6C 6F 
              73 65 20 
              79 6F 75 
              20 77 69 
              6C 6C 20 
              61 6C 73 
              6F 20 6C 
              6F 73 65 
              20 31 30 
              30 20 70 
              6F 69 6E 
              74 73 2E 
              20 4F 6E 
              63 65 20 
              61 6C 6C 
              20 34 20 
              6C 69 76 
              65 73 20 
              61 72 65 
              20 75 73 
              65 64 20 
              75 70 2C 
              20 79 6F 
              75 72 20 
              74 6F 74 
              61 6C 20 
              73 63 6F 
              72 65 20 
              77 69 6C 
              6C 20 62 
              65 20 73 
              68 6F 77 
              6E 2E 20 
              57 68 65 
              6E 20 79 
              6F 75 20 
              61 72 65 



ARM Macro Assembler    Page 8 


              20 72 65 
              61 64 79 
              20 74 6F 
              20 70 6C 
              61 79 20 
              68 69 74 
              20 74 68 
              65 20 6C 
              65 74 74 
              65 72 20 
              27 70 27 
              2E 20 50 
              72 65 73 
              73 20 27 
              6D 27 20 
              74 6F 20 
              71 75 69 
              74 20 74 
              68 65 20 
              67 61 6D 
              65 2E 00 instructions
                               =                "Welcome to Space Invaders! The
 purpose of the game is to rack up as many points as possble within 2 minutes. 
Each level will contain 35 enemies and 3 random motherships. The first two rows
 of enemies ('W') will count as 10 points. The next two rows of enemies ('M') w
ill count as 20 points. The following row ('O') will count as 40 points. The la
st row will contain a mothership moving at a different speed in random directio
ns unlike the space invaders. Each mothership will vary in points within the ra
nge 100 to 300. It only takes one shot to kill an enemy, but they can shoot bac
k and kill you in one shot. Use your shields to protect you. Press 'a' to move 
your spaceship left and 'd' to move your spaceship right. Press 'w' or the spac
e button to fire at your enemies. Be careful not to shoot at your shields or el
se they will deplete. Once all 35 space invaders are destroyed, the level progr
esses as well as the speed of the space invaders. You have 4 lives, every life 
you lose you will also lose 100 points. Once all 4 lives are used up, your tota
l score will be shown. When you are ready to play hit the letter 'p'. Press 'm'
 to quit the game.",0
   45 00000492 00 00           ALIGN
   46 00000494         
   47 00000494         lab7
   48 00000494         
   49 00000494 E92D4000        STMFD            sp!, {lr}
   50 00000498         
   51 00000498 EBFFFFFE        BL               uart_init   ;setup the uart wit
                                                            h its init subrouti
                                                            ne
   52 0000049C EBFFFFFE        BL               pin_connect_block_setup_for_uar
t0 
                                                            ;setup the pin conn
                                                            ect block
   53 000004A0 EBFFFFFE        BL               setup_pins  ;setup pins require
                                                            d for momentary pus
                                                            h button and seven 
                                                            segment display 
   54 000004A4         
   55 000004A4 E59F4270        LDR              r4, =instructions
   56 000004A8 EBFFFFFE        BL               output_string
   57 000004AC         
   58 000004AC         check_game_start



ARM Macro Assembler    Page 9 


   59 000004AC EBFFFFFE        BL               read_character
   60 000004B0         
   61 000004B0 E3500070        CMP              r0, #0x70   ;character 'p'
   62 000004B4 1AFFFFFC        BNE              check_game_start
   63 000004B8         
   64 000004B8 EB000006        BL               interrupt_init
   65 000004BC EBFFFFFE        BL               clear_display
   66 000004C0         
   67 000004C0 E3A09000        MOV              r9, #0
   68 000004C4         
   69 000004C4 E3A08002        MOV              r8, #2
   70 000004C8         
   71 000004C8         lab7_loop
   72 000004C8         
   73 000004C8 EAFFFFFE        B                lab7_loop
   74 000004CC         
   75 000004CC         lab7_end
   76 000004CC         
   77 000004CC EBFFFFFE        BL               clear_display
   78 000004D0         
   79 000004D0 E8BD4000        LDMFD            sp!,{lr}
   80 000004D4         
   81 000004D4 E12FFF1E        BX               lr
   82 000004D8         
   83 000004D8         
   84 000004D8         
   85 000004D8         interrupt_init
   86 000004D8         
   87 000004D8 E92D4007        STMFD            SP!, {r0-r2, lr} 
                                                            ; Save registers 
   88 000004DC         
   89 000004DC         ; Push button setup   
   90 000004DC         
   91 000004DC E59F023C        LDR              r0, =0xE002C000
   92 000004E0         
   93 000004E0 E5901000        LDR              r1, [r0]
   94 000004E4         
   95 000004E4 E3811202        ORR              r1, r1, #0x20000000
   96 000004E8         
   97 000004E8 E3C11201        BIC              r1, r1, #0x10000000
   98 000004EC         
   99 000004EC E5801000        STR              r1, [r0]    ; PINSEL0 bits 29:2
                                                            8 = 10
  100 000004F0         
  101 000004F0         
  102 000004F0         ;key board setup
  103 000004F0 E59F022C        LDR              r0, =0xE000C004
  104 000004F4         
  105 000004F4 E5901000        LDR              r1, [r0]
  106 000004F8         
  107 000004F8 E3811001        ORR              r1, r1, #0x1
  108 000004FC         
  109 000004FC E5801000        STR              r1, [r0]
  110 00000500         
  111 00000500         
  112 00000500         ; Classify sources as IRQ or FIQ
  113 00000500         
  114 00000500 E59F0220        LDR              r0, =0xFFFFF000
  115 00000504         



ARM Macro Assembler    Page 10 


  116 00000504 E590100C        LDR              r1, [r0, #0xC]
  117 00000508         
  118 00000508 E59F221C        LDR              r2, =0x8050
  119 0000050C         
  120 0000050C E1811002        ORR              r1, r1, r2  ; External Interrup
                                                            t 1
  121 00000510         
  122 00000510 E580100C        STR              r1, [r0, #0xC]
  123 00000514         
  124 00000514         
  125 00000514         
  126 00000514         ; Enable Interrupts
  127 00000514         
  128 00000514 E59F020C        LDR              r0, =0xFFFFF000
  129 00000518         
  130 00000518 E5901010        LDR              r1, [r0, #0x10]
  131 0000051C         
  132 0000051C E59F2208        LDR              r2, =0x8050
  133 00000520         
  134 00000520 E1811002        ORR              r1, r1, r2  ; External Interrup
                                                            t 1
  135 00000524         
  136 00000524 E5801010        STR              r1, [r0, #0x10]
  137 00000528         
  138 00000528         
  139 00000528         
  140 00000528         ; External Interrupt 1 setup for edge sensitive
  141 00000528         
  142 00000528 E59F0200        LDR              r0, =0xE01FC148
  143 0000052C         
  144 0000052C E5901000        LDR              r1, [r0]
  145 00000530         
  146 00000530 E3811002        ORR              r1, r1, #2  ; EINT1 = Edge Sens
                                                            itive
  147 00000534         
  148 00000534 E5801000        STR              r1, [r0]
  149 00000538         
  150 00000538         ; External Timer 0 modify MR0
  151 00000538         
  152 00000538 E59F01F4        LDR              r0, =0xE0004018
  153 0000053C         
  154 0000053C E59F11F4        LDR              r1, =110000
  155 00000540         
  156 00000540 E5801000        STR              r1, [r0]
  157 00000544         
  158 00000544         
  159 00000544         ; External Timer 0 MCR
  160 00000544         
  161 00000544 E59F01F0        LDR              r0, =0xE0004014
  162 00000548         
  163 00000548 E5901000        LDR              r1, [r0]
  164 0000054C         
  165 0000054C         ;ORR r1, r1, #3
  166 0000054C         ;ORR r1, r1, #8
  167 0000054C E3811003        ORR              r1, r1, #0x3
  168 00000550 E3C11020        BIC              r1, r1, #0x20
  169 00000554         
  170 00000554 E5801000        STR              r1, [r0]
  171 00000558         



ARM Macro Assembler    Page 11 


  172 00000558         ; External Timer 0 timer control register
  173 00000558         
  174 00000558 E59F01E0        LDR              r0, =0xE0004004
  175 0000055C         
  176 0000055C E5901000        LDR              r1, [r0]
  177 00000560         
  178 00000560 E3811001        ORR              r1, r1, #1
  179 00000564         
  180 00000564 E5801000        STR              r1, [r0]
  181 00000568         
  182 00000568         ; Enable FIQ's, Disable IRQ's
  183 00000568         
  184 00000568 E10F0000        MRS              r0, CPSR
  185 0000056C         
  186 0000056C E3C00040        BIC              r0, r0, #0x40
  187 00000570         
  188 00000570 E3800080        ORR              r0, r0, #0x80
  189 00000574         
  190 00000574 E121F000        MSR              CPSR_c, r0
  191 00000578         
  192 00000578         
  193 00000578         
  194 00000578 E8BD4007        LDMFD            SP!, {r0-r2, lr} 
                                                            ; Restore registers
                                                            
  195 0000057C         
  196 0000057C E12FFF1E        BX               lr          ; Return
  197 00000580         
  198 00000580         FIQ_Handler
  199 00000580         
  200 00000580 E92D401F        STMFD            SP!, {r0, r1, r2, r3, r4, lr} 
                                                            ; Save registers
  201 00000584         
  202 00000584         ; Disable Interrupts
  203 00000584         
  204 00000584 E59F019C        LDR              r0, =0xFFFFF000
  205 00000588         
  206 00000588 E5901010        LDR              r1, [r0, #0x10]
  207 0000058C         
  208 0000058C E3A02010        MOV              r2, #0x10
  209 00000590         
  210 00000590 E1C11002        BIC              r1, r1, r2  ; External Interrup
                                                            t 1
  211 00000594         
  212 00000594 E5801010        STR              r1, [r0, #0x10]
  213 00000598         
  214 00000598 E59F01A4        LDR              r0, =0xE0004000
  215 0000059C E5901000        LDR              r1, [r0]
  216 000005A0 E3510000        CMP              r1, #0
  217 000005A4 CA000000        BGT              TIMER0
  218 000005A8 EA00003D        B                EINT1
  219 000005AC         
  220 000005AC         TIMER0
  221 000005AC         
  222 000005AC E3811001        ORR              r1, r1, #1
  223 000005B0 E5801000        STR              r1, [r0]
  224 000005B4         
  225 000005B4         TIMER0LOOP
  226 000005B4         



ARM Macro Assembler    Page 12 


  227 000005B4 E59F218C        LDR              r2, =do_tick
  228 000005B8 E1A0E00F        MOV              lr, pc
  229 000005BC E12FFF12        BX               r2
  230 000005C0         
  231 000005C0 E59F6184        LDR              r6, =get_score_level
  232 000005C4 E1A0E00F        MOV              lr, pc
  233 000005C8 E12FFF16        BX               r6
  234 000005CC         
  235 000005CC EBFFFFFE        BL               number_to_memory
  236 000005D0         
  237 000005D0 E3570000        CMP              r7, #0
  238 000005D4 0A000006        BEQ              cycle_1
  239 000005D8         
  240 000005D8 E3570001        CMP              r7, #1
  241 000005DC 0A00000D        BEQ              cycle_2
  242 000005E0         
  243 000005E0 E3570002        CMP              r7, #2
  244 000005E4 0A000014        BEQ              cycle_3
  245 000005E8         
  246 000005E8 E3570003        CMP              r7, #3
  247 000005EC 0A00001B        BEQ              cycle_4
  248 000005F0         
  249 000005F0 EA00003E        B                FIQ_Exit
  250 000005F4         
  251 000005F4         cycle_1
  252 000005F4 E3A00000        MOV              r0, #0
  253 000005F8 EBFFFFFE        BL               get_input
  254 000005FC         
  255 000005FC EBFFFFFE        BL               from_ascii
  256 00000600         
  257 00000600 E1A00004        MOV              r0, r4
  258 00000604         
  259 00000604 E3A04000        MOV              r4, #0
  260 00000608         
  261 00000608 EBFFFFFE        BL               clear_display
  262 0000060C EBFFFFFE        BL               change_display_digit
  263 00000610         
  264 00000610 E2877001        ADD              r7, r7, #1
  265 00000614         
  266 00000614 EA000035        B                FIQ_Exit
  267 00000618         
  268 00000618         cycle_2
  269 00000618 E3A00001        MOV              r0, #1
  270 0000061C EBFFFFFE        BL               get_input
  271 00000620         
  272 00000620 EBFFFFFE        BL               from_ascii
  273 00000624         
  274 00000624 E1A00004        MOV              r0, r4
  275 00000628         
  276 00000628 E3A04001        MOV              r4, #1
  277 0000062C         
  278 0000062C EBFFFFFE        BL               clear_display
  279 00000630 EBFFFFFE        BL               change_display_digit
  280 00000634         
  281 00000634 E2877001        ADD              r7, r7, #1
  282 00000638         
  283 00000638 EA00002C        B                FIQ_Exit
  284 0000063C         
  285 0000063C         cycle_3



ARM Macro Assembler    Page 13 


  286 0000063C E3A00002        MOV              r0, #2
  287 00000640 EBFFFFFE        BL               get_input
  288 00000644         
  289 00000644 EBFFFFFE        BL               from_ascii
  290 00000648         
  291 00000648 E1A00004        MOV              r0, r4
  292 0000064C         
  293 0000064C E3A04002        MOV              r4, #2
  294 00000650         
  295 00000650 EBFFFFFE        BL               clear_display
  296 00000654 EBFFFFFE        BL               change_display_digit
  297 00000658         
  298 00000658 E2877001        ADD              r7, r7, #1
  299 0000065C         
  300 0000065C EA000023        B                FIQ_Exit
  301 00000660         
  302 00000660         cycle_4
  303 00000660 E3A00003        MOV              r0, #3
  304 00000664 EBFFFFFE        BL               get_input
  305 00000668         
  306 00000668 EBFFFFFE        BL               from_ascii
  307 0000066C         
  308 0000066C         
  309 0000066C E1A00004        MOV              r0, r4
  310 00000670         
  311 00000670 E3A04003        MOV              r4, #3
  312 00000674         
  313 00000674 EBFFFFFE        BL               clear_display
  314 00000678 EBFFFFFE        BL               change_display_digit
  315 0000067C         
  316 0000067C E3A07000        MOV              r7, #0
  317 00000680 EBFFFFFE        BL               clear_input
  318 00000684 EA000019        B                FIQ_Exit
  319 00000688         
  320 00000688         R0_RESET
  321 00000688 E92D4000        STMFD            SP!, {lr}
  322 0000068C E3A00000        MOV              r0, #0x0
  323 00000690 E2811001        ADD              r1, #0x1
  324 00000694 EBFFFFFE        BL               new_line
  325 00000698 E8BD4000        LDMFD            SP!, {lr}
  326 0000069C E12FFF1E        BX               lr
  327 000006A0         
  328 000006A0 EA000012        B                FIQ_Exit
  329 000006A4         
  330 000006A4         EINT1                                ; Check for EINT1 i
                                                            nterrupt
  331 000006A4         
  332 000006A4         
  333 000006A4 E59F00A4        LDR              r0, =0xE01FC140
  334 000006A8         
  335 000006A8 E5901000        LDR              r1, [r0]
  336 000006AC         
  337 000006AC E3110002        TST              r1, #2
  338 000006B0         
  339 000006B0 0A000003        BEQ              FIQ_Keys
  340 000006B4         
  341 000006B4 EBFFFFFE        BL               toggle_seven_seg
  342 000006B8         
  343 000006B8 E3811002        ORR              r1, r1, #2  ; Clear Interrupt



ARM Macro Assembler    Page 14 


  344 000006BC         
  345 000006BC E5801000        STR              r1, [r0]
  346 000006C0         
  347 000006C0 EA00000A        B                FIQ_Exit
  348 000006C4         
  349 000006C4         FIQ_Keys
  350 000006C4         
  351 000006C4 E59F0088        LDR              r0, =0xE000C008
  352 000006C8         
  353 000006C8 E5901000        LDR              r1, [r0]
  354 000006CC         
  355 000006CC E2012001        AND              r2, r1, #1
  356 000006D0         
  357 000006D0 E3520000        CMP              r2, #0
  358 000006D4         
  359 000006D4 1A000005        BNE              FIQ_Exit
  360 000006D8         
  361 000006D8 EBFFFFFE        BL               read_character
  362 000006DC         
  363 000006DC E350006D        CMP              r0, #0x6D
  364 000006E0 0AFFFF79        BEQ              lab7_end
  365 000006E4         
  366 000006E4 E59F206C        LDR              r2, =handle_input
  367 000006E8 E1A0E00F        MOV              lr, pc
  368 000006EC E12FFF12        BX               r2
  369 000006F0         
  370 000006F0         
  371 000006F0         
  372 000006F0         FIQ_Exit
  373 000006F0         
  374 000006F0         ; Enable Interrupts
  375 000006F0         
  376 000006F0 E59F0030        LDR              r0, =0xFFFFF000
  377 000006F4         
  378 000006F4 E5901010        LDR              r1, [r0, #0x10]
  379 000006F8         
  380 000006F8 E59F202C        LDR              r2, =0x8050
  381 000006FC         
  382 000006FC E1811002        ORR              r1, r1, r2  ; External Interrup
                                                            t 1
  383 00000700         
  384 00000700 E5801010        STR              r1, [r0, #0x10]
  385 00000704         
  386 00000704 E59F0038        LDR              r0, =0xE0004000
  387 00000708 E5901000        LDR              r1, [r0]
  388 0000070C         
  389 0000070C E3C11001        BIC              r1, r1, #1
  390 00000710 E5801000        STR              r1, [r0]
  391 00000714         
  392 00000714 E8BD401F        LDMFD            SP!, {r0, r1, r2, r3, r4, lr}
  393 00000718         
  394 00000718 E25EF004        SUBS             pc, lr, #4
  395 0000071C         
  396 0000071C         
  397 0000071C         
  398 0000071C                 END
              00000000 
              E002C000 
              E000C004 



ARM Macro Assembler    Page 15 


              FFFFF000 
              00008050 
              E01FC148 
              E0004018 
              0001ADB0 
              E0004014 
              E0004004 
              E0004000 
              00000000 
              00000000 
              E01FC140 
              E000C008 
              00000000 
Command Line: --debug --xref --diag_suppress=9931 --apcs=interwork --depend=.\o
bjects\lab7.d -o.\objects\lab7.o -IC:\Keil_v5\ARM\RV31\INC -IC:\Keil_v5\ARM\CMS
IS\Include -IC:\Keil_v5\ARM\INC\Philips --predefine="__EVAL SETA 1" --predefine
="__UVISION_VERSION SETA 524" --list=.\listings\lab7.lst lab7.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

EINT1 000006A4

Symbol: EINT1
   Definitions
      At line 330 in file lab7.s
   Uses
      At line 218 in file lab7.s
Comment: EINT1 used once
FIQ_Exit 000006F0

Symbol: FIQ_Exit
   Definitions
      At line 372 in file lab7.s
   Uses
      At line 249 in file lab7.s
      At line 266 in file lab7.s
      At line 283 in file lab7.s
      At line 300 in file lab7.s
      At line 318 in file lab7.s
      At line 328 in file lab7.s
      At line 347 in file lab7.s
      At line 359 in file lab7.s

FIQ_Handler 00000580

Symbol: FIQ_Handler
   Definitions
      At line 198 in file lab7.s
   Uses
      At line 6 in file lab7.s
Comment: FIQ_Handler used once
FIQ_Keys 000006C4

Symbol: FIQ_Keys
   Definitions
      At line 349 in file lab7.s
   Uses
      At line 339 in file lab7.s
Comment: FIQ_Keys used once
R0_RESET 00000688

Symbol: R0_RESET
   Definitions
      At line 320 in file lab7.s
   Uses
      None
Comment: R0_RESET unused
TIMER0 000005AC

Symbol: TIMER0
   Definitions
      At line 220 in file lab7.s
   Uses
      At line 217 in file lab7.s
Comment: TIMER0 used once
TIMER0LOOP 000005B4

Symbol: TIMER0LOOP
   Definitions



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

      At line 225 in file lab7.s
   Uses
      None
Comment: TIMER0LOOP unused
check_game_start 000004AC

Symbol: check_game_start
   Definitions
      At line 58 in file lab7.s
   Uses
      At line 62 in file lab7.s
Comment: check_game_start used once
cycle_1 000005F4

Symbol: cycle_1
   Definitions
      At line 251 in file lab7.s
   Uses
      At line 238 in file lab7.s
Comment: cycle_1 used once
cycle_2 00000618

Symbol: cycle_2
   Definitions
      At line 268 in file lab7.s
   Uses
      At line 241 in file lab7.s
Comment: cycle_2 used once
cycle_3 0000063C

Symbol: cycle_3
   Definitions
      At line 285 in file lab7.s
   Uses
      At line 244 in file lab7.s
Comment: cycle_3 used once
cycle_4 00000660

Symbol: cycle_4
   Definitions
      At line 302 in file lab7.s
   Uses
      At line 247 in file lab7.s
Comment: cycle_4 used once
enemies 00000000

Symbol: enemies
   Definitions
      At line 41 in file lab7.s
   Uses
      None
Comment: enemies unused
instructions 0000000F

Symbol: instructions
   Definitions
      At line 44 in file lab7.s
   Uses
      At line 55 in file lab7.s



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Relocatable symbols

Comment: instructions used once
interrupt_init 000004D8

Symbol: interrupt_init
   Definitions
      At line 85 in file lab7.s
   Uses
      At line 64 in file lab7.s
Comment: interrupt_init used once
interrupts 00000000

Symbol: interrupts
   Definitions
      At line 2 in file lab7.s
   Uses
      None
Comment: interrupts unused
lab7 00000494

Symbol: lab7
   Definitions
      At line 47 in file lab7.s
   Uses
      At line 4 in file lab7.s
Comment: lab7 used once
lab7_end 000004CC

Symbol: lab7_end
   Definitions
      At line 75 in file lab7.s
   Uses
      At line 364 in file lab7.s
Comment: lab7_end used once
lab7_loop 000004C8

Symbol: lab7_loop
   Definitions
      At line 71 in file lab7.s
   Uses
      At line 73 in file lab7.s
Comment: lab7_loop used once
shields_alive 00000005

Symbol: shields_alive
   Definitions
      At line 42 in file lab7.s
   Uses
      None
Comment: shields_alive unused
shields_type 0000000A

Symbol: shields_type
   Definitions
      At line 43 in file lab7.s
   Uses
      None
Comment: shields_type unused
21 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

change_display 00000000

Symbol: change_display
   Definitions
      At line 12 in file lab7.s
   Uses
      None
Comment: change_display unused
change_display_digit 00000000

Symbol: change_display_digit
   Definitions
      At line 20 in file lab7.s
   Uses
      At line 262 in file lab7.s
      At line 279 in file lab7.s
      At line 296 in file lab7.s
      At line 314 in file lab7.s

clear_display 00000000

Symbol: clear_display
   Definitions
      At line 13 in file lab7.s
   Uses
      At line 65 in file lab7.s
      At line 77 in file lab7.s
      At line 261 in file lab7.s
      At line 278 in file lab7.s
      At line 295 in file lab7.s
      At line 313 in file lab7.s

clear_input 00000000

Symbol: clear_input
   Definitions
      At line 27 in file lab7.s
      At line 38 in file lab7.s
   Uses
      At line 317 in file lab7.s
Warning: clear_input multiply definedComment: clear_input used once
do_tick 00000000

Symbol: do_tick
   Definitions
      At line 30 in file lab7.s
   Uses
      At line 227 in file lab7.s
Comment: do_tick used once
from_ascii 00000000

Symbol: from_ascii
   Definitions
      At line 23 in file lab7.s
   Uses
      At line 255 in file lab7.s
      At line 272 in file lab7.s
      At line 289 in file lab7.s
      At line 306 in file lab7.s



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
External symbols


get_digit 00000000

Symbol: get_digit
   Definitions
      At line 21 in file lab7.s
   Uses
      None
Comment: get_digit unused
get_input 00000000

Symbol: get_input
   Definitions
      At line 26 in file lab7.s
      At line 39 in file lab7.s
   Uses
      At line 253 in file lab7.s
      At line 270 in file lab7.s
      At line 287 in file lab7.s
      At line 304 in file lab7.s
Warning: get_input multiply defined
get_score_level 00000000

Symbol: get_score_level
   Definitions
      At line 33 in file lab7.s
   Uses
      At line 231 in file lab7.s
Comment: get_score_level used once
handle_input 00000000

Symbol: handle_input
   Definitions
      At line 31 in file lab7.s
   Uses
      At line 366 in file lab7.s
Comment: handle_input used once
is_enemy_alive 00000000

Symbol: is_enemy_alive
   Definitions
      At line 29 in file lab7.s
   Uses
      None
Comment: is_enemy_alive unused
new_line 00000000

Symbol: new_line
   Definitions
      At line 18 in file lab7.s
   Uses
      At line 324 in file lab7.s
Comment: new_line used once
number_to_memory 00000000

Symbol: number_to_memory
   Definitions
      At line 36 in file lab7.s
   Uses



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
External symbols

      At line 235 in file lab7.s
Comment: number_to_memory used once
output_character 00000000

Symbol: output_character
   Definitions
      At line 16 in file lab7.s
   Uses
      None
Comment: output_character unused
output_string 00000000

Symbol: output_string
   Definitions
      At line 17 in file lab7.s
   Uses
      At line 56 in file lab7.s
Comment: output_string used once
pin_connect_block_setup_for_uart0 00000000

Symbol: pin_connect_block_setup_for_uart0
   Definitions
      At line 9 in file lab7.s
   Uses
      At line 52 in file lab7.s
Comment: pin_connect_block_setup_for_uart0 used once
read_character 00000000

Symbol: read_character
   Definitions
      At line 15 in file lab7.s
   Uses
      At line 59 in file lab7.s
      At line 361 in file lab7.s

score_level_ 00000000

Symbol: score_level_
   Definitions
      At line 34 in file lab7.s
   Uses
      None
Comment: score_level_ unused
setup_pins 00000000

Symbol: setup_pins
   Definitions
      At line 10 in file lab7.s
   Uses
      At line 53 in file lab7.s
Comment: setup_pins used once
store_input 00000000

Symbol: store_input
   Definitions
      At line 25 in file lab7.s
   Uses
      None
Comment: store_input unused



ARM Macro Assembler    Page 4 Alphabetic symbol ordering
External symbols

toggle_seven_seg 00000000

Symbol: toggle_seven_seg
   Definitions
      At line 14 in file lab7.s
   Uses
      At line 341 in file lab7.s
Comment: toggle_seven_seg used once
uart_init 00000000

Symbol: uart_init
   Definitions
      At line 8 in file lab7.s
   Uses
      At line 51 in file lab7.s
Comment: uart_init used once
validate_input 00000000

Symbol: validate_input
   Definitions
      At line 11 in file lab7.s
   Uses
      None
Comment: validate_input unused
23 symbols
378 symbols in table
